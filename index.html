<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNO Web Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="animated-bg">
        <div class="animated-circle red" style="width:180px;height:180px;left:10vw;animation-delay:0s;"></div>
        <div class="animated-circle green" style="width:120px;height:120px;left:70vw;animation-delay:3s;"></div>
        <div class="animated-circle blue" style="width:140px;height:140px;left:40vw;animation-delay:6s;"></div>
        <div class="animated-circle yellow" style="width:100px;height:100px;left:80vw;animation-delay:9s;"></div>
        <div class="animated-circle red" style="width:90px;height:90px;left:25vw;animation-delay:12s;"></div>
        <div class="animated-circle green" style="width:110px;height:110px;left:55vw;animation-delay:15s;"></div>
        <!-- UNO cards will be dynamically generated by JS -->
    </div>
    <main id="main-container">
        <!-- Login Screen (Username & Password) -->
        <section id="login-screen" class="active-screen">
            <h1>UNO</h1>
            <form id="login-form" autocomplete="off">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" required maxlength="16" placeholder="Username">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required maxlength="16" placeholder="Password">
                <button type="submit" class="btn" style="display:block;margin:1.2rem auto;">Login</button>
                <div id="login-error" class="error-message"></div>
            </form>
            <div class="register-link">
                New user? <a href="#" id="show-register">Register</a>
            </div>
        </section>

        <!-- Register Screen -->
        <section id="register-screen" class="hidden-screen">
            <h1>Register</h1>
            <form id="register-form" autocomplete="off">
                <label for="reg-name">Name</label>
                <input type="text" id="reg-name" name="reg-name" required maxlength="32" placeholder="Full Name">
                <label for="reg-username">Username</label>
                <input type="text" id="reg-username" name="reg-username" required maxlength="16" placeholder="Username">
                <label for="reg-password">Create Password</label>
                <input type="password" id="reg-password" name="reg-password" required maxlength="16" placeholder="Password">
                <label for="reg-confirm">Confirm Password</label>
                <input type="password" id="reg-confirm" name="reg-confirm" required maxlength="16" placeholder="Confirm Password">
                <label for="reg-avatar">Choose Avatar</label>
                <div class="avatar-select-group">
                    <input type="radio" id="avatar1" name="reg-avatar" value="avatar/a1.jpg" required>
                    <label for="avatar1"><img src="avatar/a1.jpg" alt="Avatar 1" class="avatar-img"></label>
                    <input type="radio" id="avatar2" name="reg-avatar" value="avatar/a2.jpg">
                    <label for="avatar2"><img src="avatar/a2.jpg" alt="Avatar 2" class="avatar-img"></label>
                    <input type="radio" id="avatar3" name="reg-avatar" value="avatar/a3.jpg">
                    <label for="avatar3"><img src="avatar/a3.jpg" alt="Avatar 3" class="avatar-img"></label>
                    <input type="radio" id="avatar4" name="reg-avatar" value="avatar/a4.jpg">
                    <label for="avatar4"><img src="avatar/a4.jpg" alt="Avatar 4" class="avatar-img"></label>
                    <input type="radio" id="avatar5" name="reg-avatar" value="avatar/a5.jpg">
                    <label for="avatar5"><img src="avatar/a5.jpg" alt="Avatar 5" class="avatar-img"></label>
                    <input type="radio" id="avatar6" name="reg-avatar" value="avatar/a6.jpg">
                    <label for="avatar6"><img src="avatar/a6.jpg" alt="Avatar 6" class="avatar-img"></label>
                </div>
                <button type="submit" class="btn" style="display:block;margin:1.2rem auto 0 auto;">Register</button>
                <div id="register-error" class="error-message"></div>
                <div class="register-link" style="text-align:center;margin-top:1.1rem;">
                    Already have an account? <button id="sign-in-link" type="button" style="background:none;border:none;color:#e74c3c;font-weight:bold;cursor:pointer;text-decoration:underline;font-size:1rem;">Sign in</button>
                </div>
            </form>
        </section>

        <!-- Dashboard: Game Mode Selection -->
        <section id="mode-screen" class="hidden-screen">
            <button class="profile-btn" id="profile-btn" style="left:1.2rem;right:auto;top:1.2rem;position:absolute;">
                <img id="profile-avatar" src="a1.jpg" alt="Avatar" class="avatar-img" style="width:36px;height:36px;vertical-align:middle;"> Profile
            </button>
            <div id="profile-player-name" class="profile-player-name" style="position:absolute;left:1.2rem;top:4.5rem;color:#fff;font-weight:bold;text-shadow:1px 1px 4px #000;font-size:1.1rem;"></div>
            <button class="logout-btn" id="logout-btn" style="right:1.2rem;left:auto;top:1.2rem;position:absolute;">Logout</button>
            <h2>Choose Game Mode</h2>
            <div class="button-group">
                <button id="multiplayer-btn" class="btn">Multiplayer</button>
                <button id="howtoplay-btn" class="btn">How to Play</button>
            </div>
        </section>

        <!-- How to Play Modal/Screen -->
        <section id="howtoplay-screen" class="hidden-screen">
            <button class="btn back-btn" id="back-to-home">Back</button>
            <h2>How to Play UNO</h2>
            <div class="howtoplay-content">
                <h3>üß© Objective</h3>
                <p>Be the first player to get rid of all your cards.</p>
                <hr>
                <h3>üé¥ Setup</h3>
                <ul>
                    <li>Each player is dealt <b>7 cards</b>.</li>
                    <li>The rest go into a <b>draw pile</b>.</li>
                    <li>The top card of the draw pile starts the <b>discard pile</b>.</li>
                </ul>
                <hr>
                <h3>üé® Card Types</h3>
                <ul>
                    <li><b>Number Cards (0‚Äì9)</b> in 4 colors: Red, Green, Blue, Yellow</li>
                    <li><b>Action Cards:</b>
                        <ul>
                            <li><b>Skip</b> (üõë): Next player's turn is skipped.</li>
                            <li><b>Reverse</b> (üîÑ): Reverses the play direction.</li>
                            <li><b>Draw Two (+2)</b>: Next player draws 2 cards and loses a turn.</li>
                        </ul>
                    </li>
                    <li><b>Wild Cards:</b>
                        <ul>
                            <li><b>Wild</b>: Player chooses a new color.</li>
                            <li><b>Wild Draw Four (+4)</b>: Choose a color; next player draws 4 and loses a turn (only if you have no matching color).</li>
                        </ul>
                    </li>
                </ul>
                <hr>
                <h3>üïπÔ∏è Gameplay</h3>
                <ol>
                    <li>Players take turns in clockwise order.</li>
                    <li>On your turn, you can:
                        <ul>
                            <li>Play a card that <b>matches</b> the top card by <b>color</b> or <b>number/type</b>.</li>
                            <li>Play a <b>Wild card</b>.</li>
                            <li>Or <b>draw</b> one card if you can't play.
                                <ul>
                                    <li>If the drawn card is playable, you may play it immediately.</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>If you have one card left, say <b>"UNO"</b>!</li>
                    <li>First player to discard all cards wins.</li>
                </ol>
                <hr>
                <h3>üö´ Penalties</h3>
                <ul>
                    <li>Forgetting to say "UNO" before playing your second-last card = draw 2 cards.</li>
                    <li>Playing a Wild Draw Four illegally = draw 4 cards after challenge.</li>
                </ul>
                <hr>
                <h3>üèÜ Winning</h3>
                <ul>
                    <li>The round ends when a player plays their last card.</li>
                    <li>Points can be tracked by counting the total value of cards left in other players' hands.</li>
                </ul>
            </div>
            <button class="btn ok-btn" id="ok-to-home" style="margin-top:1.5rem;">OK</button>
        </section>

        <!-- Multiplayer Options -->
        <section id="multiplayer-options" class="hidden-screen">
            <button class="btn back-btn" id="back-to-mode">Back</button>
            <h2>Multiplayer</h2>
            <div class="button-group">
                <button id="create-room-btn" class="btn">Create Room</button>
                <button id="join-room-btn" class="btn">Join Room</button>
            </div>
        </section>

        <!-- Create Room Form -->
        <section id="create-room-form" class="hidden-screen">
            <button class="btn back-btn" id="back-to-multiplayer">Back</button>
            <h2>Create Room</h2>
            <form id="room-create-form" style="display:flex;flex-direction:column;align-items:center;">
                <label for="room-size">Number of Players</label>
                <select id="room-size" name="room-size" required style="margin-bottom:1rem;">
                    <option value="2">2 Players</option>
                    <option value="3">3 Players</option>
                    <option value="4">4 Players</option>
                </select>
                <button type="submit" class="btn" style="margin-top:0.7rem;display:block;align-self:center;">Create</button>
            </form>
            <div id="room-code-section" class="hidden-screen">
                <p>Your room code:</p>
                <div id="room-code" class="room-code-box"></div>
                <p>Share this code with your friends to join the room.</p>
            </div>
        </section>

        <!-- Join Room Form -->
        <section id="join-room-form" class="hidden-screen">
            <button class="btn back-btn" id="back-to-multiplayer2">Back</button>
            <h2>Join Room</h2>
            <form id="room-join-form" style="display:flex;flex-direction:column;align-items:center;">
                <label for="join-room-code">Enter Room Code</label>
                <input type="text" id="join-room-code" name="join-room-code" maxlength="8" required placeholder="Room code" style="margin-bottom:1rem;">
                <button type="submit" class="btn" style="margin-top:0.7rem;display:block;align-self:center;">Join</button>
            </form>
        </section>

        <!-- Profile Modal/Screen -->
        <section id="profile-screen" class="hidden-screen">
            <button class="btn back-btn" id="back-to-home-profile">Back</button>
            <h2>Player Profile</h2>
            <div class="profile-content">
                <div class="profile-avatar-section">
                    <img id="profile-avatar-large" src="a1.jpg" alt="Avatar" class="avatar-img" style="width:72px;height:72px;">
                    <form id="change-avatar-form">
                        <div class="avatar-select-group">
                            <input type="radio" id="profile-avatar1" name="profile-avatar" value="a1.jpg" required>
                            <label for="profile-avatar1"><img src="a1.jpg" alt="Avatar 1" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar2" name="profile-avatar" value="a2.jpg">
                            <label for="profile-avatar2"><img src="a2.jpg" alt="Avatar 2" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar3" name="profile-avatar" value="a3.jpg">
                            <label for="profile-avatar3"><img src="a3.jpg" alt="Avatar 3" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar4" name="profile-avatar" value="a4.jpg">
                            <label for="profile-avatar4"><img src="a4.jpg" alt="Avatar 4" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar5" name="profile-avatar" value="a5.jpg">
                            <label for="profile-avatar5"><img src="a5.jpg" alt="Avatar 5" class="avatar-img"></label>
                            <input type="radio" id="profile-avatar6" name="profile-avatar" value="a6.jpg">
                            <label for="profile-avatar6"><img src="a6.jpg" alt="Avatar 6" class="avatar-img"></label>
                        </div>
                        <button type="submit" class="btn">Change Avatar</button>
                    </form>
                </div>
                <div class="profile-info">
                    <p><b>Name:</b> <span id="profile-name"></span></p>
                    <p><b>Username:</b> <span id="profile-username"></span></p>
                    <p><b>Games Played:</b> <span id="profile-played">0</span></p>
                    <p><b>Games Won:</b> <span id="profile-won">0</span></p>
                    <p><b>Games Lost:</b> <span id="profile-lost">0</span></p>
                    <p><b>Win Streak:</b> <span id="profile-streak">0</span></p>
                </div>
            </div>
        </section>

        <!-- Lobby Screen -->
        <section id="lobby-screen" class="hidden-screen">
            <button class="btn back-btn" id="lobby-back-btn" style="position:absolute;left:1.2rem;top:1.2rem;z-index:2;">Back</button>
            <h2 style="color: #FFD600; text-shadow: 2px 2px 8px #b71c1c; margin-bottom: 0.5rem; text-align:center;">ONLINE MULTIPLAYER</h2>
            <div class="lobby-room-code-box">
                <span style="font-size:1.1rem; color:#fff;">Room Code :</span>
                <span id="lobby-room-code" style="font-size:2rem; font-weight:bold; color:#FFD600; letter-spacing:2px; background:#fff2; padding:0.2em 0.7em; border-radius:8px; margin:0 0.5em;">00000000</span>
                <button id="copy-room-code" title="Copy Code" style="background:none; border:none; cursor:pointer; font-size:1.3rem; color:#FFD600; margin-left:0.2em;">üìã</button>
                <button id="share-room-url" title="Share Room URL" style="background:none; border:none; cursor:pointer; font-size:1.3rem; color:#25D366; margin-left:0.2em;">üîó</button>
            </div>
            <div class="lobby-players" style="display:flex; flex-direction:column; align-items:center; gap:1.2rem; margin-top:1.2rem;">
                <div class="lobby-player-slot admin-slot" style="display:flex; flex-direction:column; align-items:center;">
                    <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; padding:0.5em 1em;">
                        <img id="lobby-admin-avatar" src="a1.jpg" alt="Admin Avatar" style="width:90px; height:90px; border-radius:16px; border:3px solid #FFD600; background:#fff;">
                    </div>
                    <div id="lobby-admin-name" style="color:#fff; font-weight:bold; font-size:1.2rem; margin-top:0.5em; text-shadow:1px 1px 4px #000;">AdminName</div>
                </div>
                <div style="font-size:2rem; color:#FFD600; font-weight:bold; text-shadow:1px 1px 8px #b71c1c; margin:0.5em 0;">VS</div>
                <div class="lobby-other-players" style="display:flex; gap:2.5rem; justify-content:center;">
                    <div class="lobby-player-slot" id="lobby-slot-2" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
                        <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
                            <img src="add-user.png" alt="Add Player" style="width:60px; height:60px; opacity:0.7;">
                        </div>
                        <div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
                    </div>
                    <div class="lobby-player-slot" id="lobby-slot-3" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
                        <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
                            <img src="add-user.png" alt="Add Player" style="width:60px; height:60px; opacity:0.7;">
                        </div>
                        <div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
                    </div>
                    <div class="lobby-player-slot" id="lobby-slot-4" style="width:90px; height:110px; display:flex; flex-direction:column; align-items:center;">
                        <div class="lobby-avatar-box" style="background:#fff2; border-radius:12px; width:90px; height:90px; display:flex; align-items:center; justify-content:center;">
                            <img src="add-user.png" alt="Add Player" style="width:60px; height:60px; opacity:0.7;">
                        </div>
                        <div class="lobby-player-name" style="color:#fff; font-weight:bold; font-size:1rem; margin-top:0.3em; text-shadow:1px 1px 4px #000;">Waiting...</div>
                    </div>
                </div>
            </div>
            <div style="text-align:center; margin-top:2.2rem;">
                <button id="lobby-start-btn" class="btn" style="background:#FFD600; color:#b71c1c; font-weight:bold; font-size:1.2rem; padding:0.7em 2.5em; border-radius:12px; box-shadow:0 2px 8px #0005; display:none;">Start</button>
            </div>
        </section>
    </main>
    <script src="app.js"></script>
</body>
</html>
